!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).bodyScrollLock={})}(this,function(e){"use strict";function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function s(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){i(t,e,o[e])})}return t}var n,o,r,l=[],d=0,c=!1;if("undefined"!=typeof window){var t={get passive(){c=!0}};window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}var u=function(){var e=navigator.userAgent,t=/(Android);?[\s/]+([\d.]+)?/.test(e),o=/(iPad).*OS\s([\d_]+)/.test(e),n=!o&&/(iPhone\sOS)\s([\d_]+)/.test(e);return{os:t?"android":"ios",ios:n||o,ipad:o,iphone:n,android:t}},f=function(e){e.cancelable&&e.preventDefault()},a=function(e){e||null===e||console.warn("If scrolling is also required in the floating layer, the target element must be provided")};e.lock=function(t){a(t),u().ios?(t&&l.indexOf(t)<0&&(t.ontouchstart=function(e){n=e.targetTouches[0].clientY},t.ontouchmove=function(e){1===e.targetTouches.length&&function(e,t){var o=e.targetTouches[0].clientY-n;t&&0===t.scrollTop&&0<o?f(e):t&&t.scrollHeight-1-t.scrollTop<=t.clientHeight&&o<0?f(e):e.stopPropagation()}(e,t)},l.push(t)),r||(document.addEventListener("touchmove",f,c?{passive:!1}:void 0),r=!0)):o=u().android?function(){var e,t=(e=document,document.querySelector).bind(e),o=t("html"),n=t("body"),i=s({},o.style),r=s({},n.style),l=o.scrollTop||n.scrollTop;return o.style.overflow="hidden",o.style.height="100%",n.style.overflow="hidden",n.style.top="-".concat(l,"px"),n.style.width="100%",n.style.position="fixed",function(){o.style.overflow=i.overflow||"",o.style.height=i.height||"",n.style.overflow=r.overflow||"",n.style.height=r.height||"",n.style.width=r.width||"",n.style.position="",n.style.top="",window.scrollTo(0,l)}}():function(){var e,t=(e=document,document.querySelector).bind(e)("body"),o=s({},t.style),n=window.innerWidth-document.body.clientWidth;return t.style.overflow="hidden",t.style.paddingRight=n+"px",t.style.boxSizing="border-box",function(){t.style.overflow=o.overflow||"",t.style.paddingRight=o.paddingRight||"",t.style.boxSizing=o.boxSizing||""}}(),d+=1},e.unlock=function(e){if(a(e),!(0<(d-=1))||e)if(u().ios){var t=l.indexOf(e);-1<t&&(e.ontouchstart=null,e.ontouchmove=null,l.splice(t,1)),r&&d<=0&&(document.removeEventListener("touchmove",f,c?{passive:!1}:void 0),r=!1)}else d<=0&&o()},Object.defineProperty(e,"__esModule",{value:!0})});
