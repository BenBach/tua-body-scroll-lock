!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).bodyScrollLock={})}(this,function(e){"use strict";function f(i){for(var e=1;e<arguments.length;e++){var l=null!=arguments[e]?arguments[e]:{},t=Object.keys(l);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(l).filter(function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable}))),t.forEach(function(e){var t,o,n;t=i,n=l[o=e],o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n})}return i}var h,y,v,p=[],g=0,w=!1;if("undefined"!=typeof window){var t={get passive(){w=!0}};window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}var b=function(){var e=navigator.userAgent,t=/(Android);?[\s/]+([\d.]+)?/.test(e),o=/(iPad).*OS\s([\d_]+)/.test(e),n=!o&&/(iPhone\sOS)\s([\d_]+)/.test(e);return{os:t?"android":"ios",ios:n||o,ipad:o,iphone:n,android:t}},m=function(e){e.cancelable&&e.preventDefault()},O=function(e){e||null===e||console.warn("If scrolling is also required in the floating layer, the target element must be provided")};e.lock=function(i){var e,t,o,n,l,r,s,d,c,u,a;O(i),b().ios?(i&&p.indexOf(i)<0&&(i.ontouchstart=function(e){h=e.targetTouches[0].clientY},i.ontouchmove=function(e){var t,o,n;1===e.targetTouches.length&&(o=i,n=(t=e).targetTouches[0].clientY-h,o&&0===o.scrollTop&&0<n?m(t):o&&o.scrollHeight-1-o.scrollTop<=o.clientHeight&&n<0?m(t):t.stopPropagation())},p.push(i)),v||(document.addEventListener("touchmove",m,w?{passive:!1}:void 0),v=!0)):y=b().android?(r=(l=document,document.querySelector).bind(l),s=r("html"),d=r("body"),c=f({},s.style),u=f({},d.style),a=s.scrollTop||d.scrollTop,s.style.overflow="hidden",s.style.height="100%",d.style.overflow="hidden",d.style.top="-".concat(a,"px"),d.style.width="100%",d.style.position="fixed",function(){s.style.overflow=c.overflow||"",s.style.height=c.height||"",d.style.overflow=u.overflow||"",d.style.height=u.height||"",d.style.width=u.width||"",d.style.position="",d.style.top="",window.scrollTo(0,a)}):(t=(e=document,document.querySelector).bind(e)("body"),o=f({},t.style),n=window.innerWidth-document.body.clientWidth,t.style.overflow="hidden",t.style.paddingRight=n+"px",t.style.boxSizing="border-box",function(){t.style.overflow=o.overflow||"",t.style.paddingRight=o.paddingRight||"",t.style.boxSizing=o.boxSizing||""}),g+=1},e.unlock=function(e){if(O(e),!(0<(g-=1))||e)if(b().ios){var t=p.indexOf(e);-1<t&&(e.ontouchstart=null,e.ontouchmove=null,p.splice(t,1)),v&&g<=0&&(document.removeEventListener("touchmove",m,w?{passive:!1}:void 0),v=!1)}else g<=0&&y()},Object.defineProperty(e,"__esModule",{value:!0})});
